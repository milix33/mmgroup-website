---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import CTA from '../../components/CTA.astro';
import SectionHeader from '../../components/SectionHeader.astro';
import { translations } from '../../i18n/translations';

export function getStaticPaths() {
  return [
    { params: { lang: 'sr' } },
    { params: { lang: 'de' } },
    { params: { lang: 'en' } },
  ];
}

const { lang } = Astro.params as { lang: 'sr' | 'de' | 'en' };
const t = translations[lang];
const p = t.portfolio;
const base = `/${lang}`;
---

<BaseLayout
  title={`${p.title} — ZIPTV TECH SOLUTIONS`}
  description={p.subtitle}
  lang={lang}
>
  <Navbar slot="navbar" lang={lang} currentPath="portfolio" />
  
  <section class="relative py-16 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 gradient-animate overflow-hidden">
    <div class="absolute inset-0 pattern-dots opacity-20"></div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
      <SectionHeader title={p.title} subtitle={p.subtitle} as="h1" light />
    </div>
  </section>
  
  <section class="py-16 relative overflow-hidden">
    <div class="absolute inset-0 pattern-grid opacity-10"></div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <a href="https://www.drpetkovic.com/sr" target="_blank" rel="noopener noreferrer" class="group bg-white/95 backdrop-blur-sm border border-slate-200 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl hover:border-indigo-300 transition-all duration-300 hover-lift animate-on-scroll stagger-1">
          <div class="h-48 bg-slate-50 flex items-center justify-center p-6">
            <img src="https://www.drpetkovic.com/images/logopng2.png" alt="Dr Petković" class="max-w-full h-auto max-h-24 object-contain group-hover:scale-110 transition-transform duration-300" />
          </div>
          <div class="p-5">
            <span class="inline-block px-2 py-1 bg-blue-100 text-blue-600 rounded-md text-xs font-medium mb-3">{p.businessSite}</span>
            <h3 class="text-lg font-bold text-slate-900 mb-2">Stomatološka ordinacija Dr Petković</h3>
            <p class="text-sm text-slate-600 mb-3 line-clamp-2">Stomatologija, usluge, online zakazivanje.</p>
            <span class="text-xs text-indigo-600 font-semibold group-hover:text-indigo-700">{p.visitSite}</span>
          </div>
        </a>
        <a href="https://m2milan.vercel.app/" target="_blank" rel="noopener noreferrer" class="group bg-white/95 backdrop-blur-sm border border-slate-200 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl hover:border-indigo-300 transition-all duration-300 hover-lift animate-on-scroll stagger-2">
          <div class="h-48 bg-slate-50 flex items-center justify-center p-6">
            <img src="https://m2milan.vercel.app/images/logo/logopng.png" alt="M² Architecture" class="max-w-full h-auto max-h-24 object-contain group-hover:scale-110 transition-transform duration-300" />
          </div>
          <div class="p-5">
            <span class="inline-block px-2 py-1 bg-emerald-100 text-emerald-600 rounded-md text-xs font-medium mb-3">{p.businessSite}</span>
            <h3 class="text-lg font-bold text-slate-900 mb-2">M² Architecture</h3>
            <p class="text-sm text-slate-600 mb-3 line-clamp-2">Projektovanje, nadzor, portfolio i kontakt.</p>
            <span class="text-xs text-indigo-600 font-semibold group-hover:text-indigo-700">{p.visitSite}</span>
          </div>
        </a>
        <a href="https://regalert.vercel.app/" target="_blank" rel="noopener noreferrer" class="group bg-white/95 backdrop-blur-sm border border-slate-200 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl hover:border-indigo-300 transition-all duration-300 hover-lift animate-on-scroll stagger-3">
          <div class="h-48 bg-slate-50 flex items-center justify-center p-6">
            <img src="/regialert-logo.svg" alt="RegiAlert" class="max-w-full h-auto max-h-24 object-contain group-hover:scale-110 transition-transform duration-300" />
          </div>
          <div class="p-5">
            <span class="inline-block px-2 py-1 bg-blue-100 text-blue-600 rounded-md text-xs font-medium mb-3">{p.webApp}</span>
            <h3 class="text-lg font-bold text-slate-900 mb-2">RegiAlert</h3>
            <p class="text-sm text-slate-600 mb-3 line-clamp-2">SMS obavještenja za isteke registracije i zakazane termine.</p>
            <span class="text-xs text-indigo-600 font-semibold group-hover:text-indigo-700">{p.visitSite}</span>
          </div>
        </a>
        <a href="https://srtpedja.vercel.app/" target="_blank" rel="noopener noreferrer" class="group bg-white/95 backdrop-blur-sm border border-slate-200 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl hover:border-indigo-300 transition-all duration-300 hover-lift animate-on-scroll stagger-4">
          <div class="h-48 bg-slate-50 flex items-center justify-center p-6">
            <img src="/srt-transport-logo.svg" alt="SRT Transport" class="max-w-full h-auto max-h-24 object-contain group-hover:scale-110 transition-transform duration-300" />
          </div>
          <div class="p-5">
            <span class="inline-block px-2 py-1 bg-emerald-100 text-emerald-600 rounded-md text-xs font-medium mb-3">{p.businessSite}</span>
            <h3 class="text-lg font-bold text-slate-900 mb-2">SRT Transport</h3>
            <p class="text-sm text-slate-600 mb-3 line-clamp-2">Pouzdan prevoz robe i vozila u BiH i Evropi.</p>
            <span class="text-xs text-indigo-600 font-semibold group-hover:text-indigo-700">{p.visitSite}</span>
          </div>
        </a>
        <a href={`${base}/contact`} class="group bg-white/95 backdrop-blur-sm border border-slate-200 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl hover:border-indigo-300 transition-all duration-300 hover-lift animate-on-scroll stagger-5">
          <div class="h-48 bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-6">
            <div class="text-center">
              <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center mx-auto mb-3">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
              </div>
              <h3 class="text-lg font-bold text-slate-900">AIFleetControl</h3>
            </div>
          </div>
          <div class="p-5">
            <span class="inline-block px-2 py-1 bg-indigo-100 text-indigo-600 rounded-md text-xs font-medium mb-3">{p.webApp}</span>
            <p class="text-sm text-slate-600 mb-3 line-clamp-2">Fleet management sistem: rute, nalozi, tracking.</p>
            <span class="text-xs text-indigo-600 font-semibold group-hover:text-indigo-700">{lang === 'sr' ? 'Demo na upit →' : lang === 'de' ? 'Demo auf Anfrage →' : 'Demo on request →'}</span>
          </div>
        </a>
        <a href="https://ziptvbox.com/" target="_blank" rel="noopener noreferrer" class="group bg-white/95 backdrop-blur-sm border border-slate-200 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl hover:border-indigo-300 transition-all duration-300 hover-lift animate-on-scroll stagger-6">
          <div class="h-48 bg-slate-50 flex items-center justify-center p-6">
            <img src="/ziptvbox-logo.png" alt="ZipTV Box" class="max-w-full h-auto max-h-24 object-contain group-hover:scale-110 transition-transform duration-300" />
          </div>
          <div class="p-5">
            <span class="inline-block px-2 py-1 bg-purple-100 text-purple-600 rounded-md text-xs font-medium mb-3">{p.webApp}</span>
            <h3 class="text-lg font-bold text-slate-900 mb-2">ZipTV Box</h3>
            <p class="text-sm text-slate-600 mb-3 line-clamp-2">IPTV media player platforma za streaming TV kanala i VOD.</p>
            <span class="text-xs text-indigo-600 font-semibold group-hover:text-indigo-700">{p.visitSite}</span>
          </div>
        </a>
      </div>
    </div>
  </section>
  
  <CTA
    title={lang === 'sr' ? 'Zatraži prezentaciju' : lang === 'de' ? 'Präsentation anfragen' : 'Request a presentation'}
    description={lang === 'sr' ? 'Pošaljite upit i dobijate demo za 24–48h.' : lang === 'de' ? 'Senden Sie eine Anfrage und erhalten Sie eine Demo in 24–48h.' : 'Send an enquiry and get a demo in 24–48h.'}
    href={`${base}/contact`}
    buttonText={t.nav.requestQuote}
  />
  
  <Footer slot="footer" lang={lang} />
</BaseLayout>
