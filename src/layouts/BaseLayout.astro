---
interface Props {
  title: string;
  description: string;
  image?: string;
}

const { title, description, image = '/og-image.png' } = Astro.props;
const currentYear = new Date().getFullYear();
---

<!doctype html>
<html lang="sr-Latn">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="generator" content={Astro.generator} />
    
    <title>{title}</title>
    <meta name="description" content={description} />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={image} />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={image} />
  </head>
  <body class="antialiased bg-slate-50 text-slate-900">
    <slot name="navbar" />
    <main>
      <slot />
    </main>
    <slot name="footer" />
    
    <style>
      /* Global Animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes slideInLeft {
        from {
          opacity: 0;
          transform: translateX(-30px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      
      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(30px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      
      @keyframes scaleIn {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
      
      @keyframes gradient {
        0%, 100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }
      
      @keyframes float {
        0%, 100% {
          transform: translateY(0px) rotate(0deg);
        }
        50% {
          transform: translateY(-20px) rotate(5deg);
        }
      }
      
      @keyframes rotate {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      
      @keyframes pulse {
        0%, 100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.8;
          transform: scale(1.05);
        }
      }
      
      @keyframes glow {
        0%, 100% {
          box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
        }
        50% {
          box-shadow: 0 0 40px rgba(99, 102, 241, 0.8), 0 0 60px rgba(139, 92, 246, 0.5);
        }
      }
      
      @keyframes explode {
        0% {
          transform: scale(0) rotate(0deg);
          opacity: 0;
        }
        50% {
          transform: scale(1.2) rotate(180deg);
          opacity: 1;
        }
        100% {
          transform: scale(1) rotate(360deg);
          opacity: 1;
        }
      }
      
      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      @keyframes shimmer {
        0% {
          background-position: -1000px 0;
        }
        100% {
          background-position: 1000px 0;
        }
      }
      
      .animate-on-scroll {
        opacity: 0;
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
      }
      
      .animate-on-scroll.visible {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
      
      .fade-in-up {
        animation: fadeInUp 0.8s ease-out forwards;
      }
      
      .fade-in {
        animation: fadeIn 0.8s ease-out forwards;
      }
      
      .slide-in-left {
        animation: slideInLeft 0.8s ease-out forwards;
      }
      
      .slide-in-right {
        animation: slideInRight 0.8s ease-out forwards;
      }
      
      .scale-in {
        animation: scaleIn 0.8s ease-out forwards;
      }
      
      .gradient-animate {
        background-size: 200% 200%;
        animation: gradient 8s ease infinite;
      }
      
      .float {
        animation: float 6s ease-in-out infinite;
      }
      
      .rotate-slow {
        animation: rotate 20s linear infinite;
      }
      
      .pulse {
        animation: pulse 3s ease-in-out infinite;
      }
      
      .glow {
        animation: glow 3s ease-in-out infinite;
      }
      
      .explode {
        animation: explode 1s ease-out forwards;
      }
      
      /* Glassmorphism */
      .glass {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
      }
      
      /* Hover Effects */
      .hover-lift {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      
      .hover-lift:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      }
      
      .hover-rotate:hover {
        transform: rotate(5deg) scale(1.05);
      }
      
      .hover-glow:hover {
        box-shadow: 0 0 30px rgba(99, 102, 241, 0.6);
      }
      
      /* Stagger Animation */
      .stagger-1 { animation-delay: 0.1s; }
      .stagger-2 { animation-delay: 0.2s; }
      .stagger-3 { animation-delay: 0.3s; }
      .stagger-4 { animation-delay: 0.4s; }
      .stagger-5 { animation-delay: 0.5s; }
      .stagger-6 { animation-delay: 0.6s; }
      
      /* Floating Shapes */
      .floating-shape {
        position: absolute;
        pointer-events: none;
        opacity: 0.1;
        animation: float 8s ease-in-out infinite;
      }
      
      /* Animated Background Patterns */
      .pattern-dots {
        background-image: radial-gradient(circle, rgba(99, 102, 241, 0.1) 1px, transparent 1px);
        background-size: 30px 30px;
      }
      
      .pattern-grid {
        background-image: 
          linear-gradient(rgba(99, 102, 241, 0.05) 1px, transparent 1px),
          linear-gradient(90deg, rgba(99, 102, 241, 0.05) 1px, transparent 1px);
        background-size: 50px 50px;
      }
      
      /* 3D Transform */
      .transform-3d {
        transform-style: preserve-3d;
        perspective: 1000px;
      }
      
      .card-3d {
        transition: transform 0.5s ease;
      }
      
      .card-3d:hover {
        transform: rotateY(5deg) rotateX(5deg) translateZ(20px);
      }
      
      /* Shimmer Effect */
      .shimmer {
        background: linear-gradient(
          90deg,
          rgba(255, 255, 255, 0) 0%,
          rgba(255, 255, 255, 0.3) 50%,
          rgba(255, 255, 255, 0) 100%
        );
        background-size: 200% 100%;
        animation: shimmer 3s infinite;
      }
    </style>
    
    <script>
      // Mobile Menu
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      
      if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener('click', () => {
          mobileMenu.classList.toggle('hidden');
        });
      }
      
      // Intersection Observer for scroll animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);
      
      // Observe all elements with animate-on-scroll
      document.addEventListener('DOMContentLoaded', () => {
        const elements = document.querySelectorAll('.animate-on-scroll');
        elements.forEach((el, index) => {
          el.style.transitionDelay = `${index * 0.1}s`;
          observer.observe(el);
        });
      });
    </script>
  </body>
</html>
